[project]
name = "py-cluster-api"
channels = ["conda-forge"]
platforms = ["linux-64"]

[dependencies]
python = ">=3.10"

[pypi-dependencies]
cluster-api = { path = ".", editable = true }

[tasks]
test = "pytest tests/"
test-v = "pytest tests/ -v"
test-cov = "pytest tests/ --cov=cluster_api --cov-report=term-missing"
lint = "ruff check cluster_api/ tests/"
fmt = "ruff format cluster_api/ tests/"
check = { depends-on = ["lint", "test"] }

[feature.test.dependencies]
pytest = "*"
pytest-asyncio = "*"
pytest-cov = "*"

[feature.dev.dependencies]
ruff = "*"

[environments]
default = { features = ["test", "dev"] }
